language:
  - python
python:
  - "2.7"
env:
  - NODE_VERSION="10.13.0"
before_install:
  - nvm install $NODE_VERSION
stages:
- PR checks ✅
- name: "Ship It \U0001F6A2"
  if: branch=master AND type=push
install:
  - make requirements-local.py
  - npm install
jobs:
  include:
  - stage: PR checks ✅
    env:
    - NAME=Validation Checks
    script: "./.travis/validate_changes_for_merge.sh"
  - stage: "Ship It \U0001F6A2"
    env:
    - NAME=Publish
